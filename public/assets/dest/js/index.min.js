"use strict";var entryForm=document.getElementById("entryForm"),urlField=document.getElementById("url"),pinField=document.getElementById("pin"),lastShortenedUrl="";entryForm.onsubmit=function(e){var t=urlField.value;if(t!==lastShortenedUrl||""===lastShortenedUrl){t.indexOf("://")<0&&(t="https://"+t);var n=new FormData;n.append("longUrl",t),null!==pinField&&n.append("userPin",pinField.value),fetch("/api/create",{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){if("success"===e.status){var t=e.shortUrl;lastShortenedUrl=t,urlField.value=t,urlField.readOnly=!0,urlField.focus()}})}e.preventDefault()};